# Step to setup JAVA on the agent
# We use openjdk-8
parameters:
  - name: JDK_VERSION
    default: '8'
steps:

  - bash: sudo apt-get update
    displayName: 'Update package list'

  - bash: sudo apt install openjdk-8-jdk
    displayName: 'Install openjdk8'

  - bash: |
      echo "##vso[task.setvariable variable=JAVA_VERSION_BUILD]1.8"
      echo "##vso[task.setvariable variable=JAVA_VERSION]1.8.0"
    displayName: 'Setup JAVA_VERSION=1.8'

  - bash: |
      echo "##vso[task.setvariable variable=JAVA_HOME]/usr/lib/jvm/java-8-openjdk-amd64"
      echo "##vso[task.setvariable variable=JAVA_HOME__X64]/usr/lib/jvm/java-8-openjdk-amd64"
      echo "##vso[task.setvariable variable=PATH]/usr/lib/jvm/java-8-openjdk-amd64/bin:$(PATH)"
    displayName: 'Setup JAVA_HOME'